{"version":3,"file":"js/907.cf2ed78d.js","mappings":"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","sources":["webpack://swapi/./src/views/ItemsView.vue?3943","webpack://swapi/./src/components/SearchBar.vue","webpack://swapi/./src/components/SearchBar.vue?fbac","webpack://swapi/./src/views/ItemsView.vue?51f7","webpack://swapi/./src/views/ItemsView.vue"],"sourcesContent":["import { resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, createTextVNode as _createTextVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, createBlock as _createBlock, withModifiers as _withModifiers, normalizeClass as _normalizeClass, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-491c474c\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { key: 0 }\nconst _hoisted_2 = { class: \"items__info\" }\nconst _hoisted_3 = { class: \"item\" }\nconst _hoisted_4 = { class: \"page__wrapper\" }\nconst _hoisted_5 = [\"onClick\"]\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_search_bar = _resolveComponent(\"search-bar\")!\n  const _component_k_dialog = _resolveComponent(\"k-dialog\")!\n  const _component_k_button = _resolveComponent(\"k-button\")!\n  const _component_router_link = _resolveComponent(\"router-link\")!\n\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _createVNode(_component_k_dialog, {\n      show: _ctx.dialogSearchVisible,\n      \"onUpdate:show\": _cache[2] || (_cache[2] = ($event: any) => (_ctx.dialogSearchVisible = false))\n    }, {\n      default: _withCtx(() => [\n        _createVNode(_component_search_bar, {\n          ref: \"search__input\",\n          \"onUpdate:show\": _cache[0] || (_cache[0] = (bool) => (_ctx.dialogSearchVisible = bool)),\n          \"onUpdate:searchInput\": _cache[1] || (_cache[1] = (searchInput) => (_ctx.searchQuery = searchInput))\n        }, null, 512)\n      ]),\n      _: 1\n    }, 8, [\"show\"]),\n    _createVNode(_component_k_button, {\n      class: \"search__button\",\n      onClick: _ctx.showSearch\n    }, {\n      default: _withCtx(() => [\n        _createTextVNode(\"Search \")\n      ]),\n      _: 1\n    }, 8, [\"onClick\"]),\n    (_ctx.isLoading)\n      ? (_openBlock(), _createElementBlock(\"p\", _hoisted_1, \"Loading Data...\"))\n      : (_openBlock(), _createElementBlock(_Fragment, { key: 1 }, [\n          _createElementVNode(\"div\", _hoisted_2, [\n            _createElementVNode(\"strong\", null, _toDisplayString(_ctx.itemClass), 1),\n            _createTextVNode(\" of the saga: \")\n          ]),\n          _createElementVNode(\"ul\", null, [\n            (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.items, (item) => {\n              return (_openBlock(), _createBlock(_component_router_link, {\n                key: item,\n                to: {\n                    path: `${_ctx.itemClass}/${item.url.match(/\\d/g).join('')}`,\n                }\n              }, {\n                default: _withCtx(() => [\n                  _createElementVNode(\"li\", _hoisted_3, [\n                    _createElementVNode(\"h2\", null, _toDisplayString(item.name ?? item.title), 1)\n                  ])\n                ]),\n                _: 2\n              }, 1032, [\"to\"]))\n            }), 128))\n          ]),\n          _createElementVNode(\"ul\", _hoisted_4, [\n            _createVNode(_component_k_button, {\n              disabled: _ctx.page === 1,\n              onClick: _cache[3] || (_cache[3] = _withModifiers(($event: any) => (_ctx.changePage(_ctx.page - 1)), [\"prevent\"]))\n            }, {\n              default: _withCtx(() => [\n                _createTextVNode(\"Back\")\n              ]),\n              _: 1\n            }, 8, [\"disabled\"]),\n            (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.totalPages, (pageNumber) => {\n              return (_openBlock(), _createElementBlock(\"li\", {\n                key: pageNumber,\n                class: _normalizeClass([\"page\", { 'current-page': _ctx.page === pageNumber }]),\n                onClick: ($event: any) => (_ctx.changePage(pageNumber))\n              }, [\n                _createVNode(_component_k_button, null, {\n                  default: _withCtx(() => [\n                    _createTextVNode(_toDisplayString(pageNumber), 1)\n                  ]),\n                  _: 2\n                }, 1024)\n              ], 10, _hoisted_5))\n            }), 128)),\n            _createVNode(_component_k_button, {\n              disabled: _ctx.page === _ctx.totalPages,\n              onClick: _cache[4] || (_cache[4] = _withModifiers(($event: any) => (_ctx.changePage(_ctx.page + 1)), [\"prevent\"]))\n            }, {\n              default: _withCtx(() => [\n                _createTextVNode(\"Forward\")\n              ]),\n              _: 1\n            }, 8, [\"disabled\"])\n          ])\n        ], 64))\n  ], 64))\n}","<template>\n    <form @submit.prevent class=\"search__bar\">\n        <label for=\"search__input\"\n            >Look for\n            <k-input\n                type=\"text\"\n                v-model.lazy=\"searchInput\"\n                id=\"search__input\"\n                placeholder=\"Type in..\"\n            />\n            <k-button @click.prevent=\"search\">Search</k-button>\n        </label>\n    </form>\n</template>\n<script>\nexport default {\n    data() {\n        return {\n            searchInput: \"\",\n        };\n    },\n    methods: {\n        search() {\n            this.$emit(\"update:searchInput\", this.searchInput);\n            if (this.searchInput) this.$emit(\"update:show\", false);\n            this.searchInput = \"\";\n        },\n    },\n};\n</script>\n<style scoped></style>\n","import { render } from \"./SearchBar.vue?vue&type=template&id=df16dc1c\"\nimport script from \"./SearchBar.vue?vue&type=script&lang=js\"\nexport * from \"./SearchBar.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/anastasiyalitvinenka/Documents/web/onGitHub/testIntervale-swapi/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","\nimport { defineComponent } from \"vue\";\nimport { fetchData, fetchingOptions } from \"@/services/api\";\nimport SearchBar from \"@/components/SearchBar.vue\";\n\nexport default defineComponent({\n    name: \"ItemsView\",\n    components: { SearchBar },\n    data: () => {\n        return {\n            items: null,\n            isLoading: false,\n            pageNumber: 1,\n            totalPages: 1,\n            limit: 10,\n            page: 1,\n            searchQuery: \"\",\n            dialogSearchVisible: false,\n        };\n    },\n\n    created() {\n        this.searchQuery = \"\";\n        this.getItems();\n    },\n\n    methods: {\n        async getItems() {\n            try {\n                this.isLoading = true;\n                const data = await fetchData(fetchingOptions[this.routeName], {\n                    searchFor: this.searchQuery,\n                    page: this.page,\n                });\n\n                this.items = data.results;\n\n                this.totalPages = Math.ceil(data.count / this.limit);\n            } catch (error) {\n                Promise.reject(error);\n            } finally {\n                this.isLoading = false;\n            }\n        },\n        showSearch() {\n            return (this.dialogSearchVisible = true);\n        },\n        changePage(pageNumber) {\n            if (pageNumber < 1 || pageNumber > this.totalPages) return;\n            this.page = pageNumber;\n            this.getItems();\n        },\n    },\n\n    computed: {\n        routeName() {\n            return this.$route.name as string;\n        },\n        itemClass() {\n            return this.routeName;\n        },\n    },\n\n    watch: {\n        routeName() {\n            this.getItems();\n            this.isLoading = true;\n            this.searchQuery = \"\";\n            this.page = 1;\n\n            console.log(this.$route.name, this.searchQuery, this.page);\n        },\n        searchQuery() {\n            if (this.searchQuery) this.getItems();\n        },\n    },\n});\n","import { render } from \"./ItemsView.vue?vue&type=template&id=491c474c&scoped=true&ts=true\"\nimport script from \"./ItemsView.vue?vue&type=script&lang=ts\"\nexport * from \"./ItemsView.vue?vue&type=script&lang=ts\"\n\nimport \"./ItemsView.vue?vue&type=style&index=0&id=491c474c&lang=scss&scoped=true\"\n\nimport exportComponent from \"/Users/anastasiyalitvinenka/Documents/web/onGitHub/testIntervale-swapi/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-491c474c\"]])\n\nexport default __exports__"],"names":["_hoisted_1","key","_hoisted_2","class","_hoisted_3","_hoisted_4","_hoisted_5","render","_ctx","_cache","$props","$setup","$data","$options","_component_search_bar","_resolveComponent","_component_k_dialog","_component_k_button","_component_router_link","_openBlock","_createElementBlock","_Fragment","_createVNode","show","dialogSearchVisible","$event","default","_withCtx","ref","bool","searchInput","searchQuery","_","onClick","showSearch","_createTextVNode","isLoading","_createElementVNode","_toDisplayString","itemClass","_renderList","items","item","_createBlock","to","path","url","match","join","name","title","disabled","page","_withModifiers","changePage","totalPages","pageNumber","_normalizeClass","for","onSubmit","_component_k_input","type","lazy","id","placeholder","data","methods","search","this","$emit","__exports__","defineComponent","components","SearchBar","limit","created","getItems","async","fetchData","fetchingOptions","routeName","searchFor","results","Math","ceil","count","error","Promise","reject","computed","$route","watch","console","log"],"sourceRoot":""}