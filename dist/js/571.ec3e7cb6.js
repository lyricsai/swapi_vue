"use strict";(self["webpackChunkswapi"]=self["webpackChunkswapi"]||[]).push([[571],{2571:function(e,t,a){a.r(t),a.d(t,{default:function(){return b}});var s=a(3396),i=a(7139);const r={class:"items__info"},n={class:"page__wrapper"},l=["onClick"],h={key:1};function o(e,t,a,o,u,c){const p=(0,s.up)("search-bar"),g=(0,s.up)("k-dialog"),d=(0,s.up)("k-button"),m=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(g,{show:e.dialogSearchVisible,"onUpdate:show":t[2]||(t[2]=t=>e.dialogSearchVisible=!1)},{default:(0,s.w5)((()=>[(0,s.Wm)(p,{ref:"search__input","onUpdate:show":t[0]||(t[0]=t=>e.dialogSearchVisible=t),"onUpdate:searchInput":t[1]||(t[1]=t=>e.searchQuery=t)},null,512)])),_:1},8,["show"]),(0,s.Wm)(d,{class:"search",onClick:e.showSearch},{default:(0,s.w5)((()=>[(0,s.Uk)("Search ")])),_:1},8,["onClick"]),e.items?.length?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[(0,s._)("div",r,[(0,s._)("strong",null,(0,i.zw)(e.itemClass),1),(0,s.Uk)(" of the saga: ")]),(0,s._)("ul",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.items,(t=>((0,s.wg)(),(0,s.iD)("li",{key:t,class:"item"},[(0,s.Wm)(m,{to:{path:`${e.itemClass}/${t.url.match(/\d/g).join("")}`}},{default:(0,s.w5)((()=>[(0,s._)("h2",null,(0,i.zw)(t.name??t.title),1)])),_:2},1032,["to"])])))),128))]),(0,s._)("ul",n,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.totalPages,(t=>((0,s.wg)(),(0,s.iD)("li",{key:t,class:(0,i.C_)(["page",{"current-page":e.page===t}]),onClick:a=>e.changePage(t)},[(0,s.Wm)(d,null,{default:(0,s.w5)((()=>[(0,s.Uk)((0,i.zw)(t),1)])),_:2},1024)],10,l)))),128))])],64)):((0,s.wg)(),(0,s.iD)("p",h,"Loading Data..."))],64)}var u=a(3578),c=a(3862);const p={for:"search__input"};function g(e,t,a,i,r,n){return(0,s.wg)(),(0,s.iD)("form",{onSubmit:t[2]||(t[2]=(0,c.iM)((()=>{}),["prevent"]))},[(0,s._)("label",p,[(0,s.Uk)("Look for "),(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>r.searchInput=e),id:"search__input",placeholder:"Type in.."},null,512),[[c.nr,r.searchInput,void 0,{lazy:!0}]]),(0,s._)("button",{onClick:t[1]||(t[1]=(0,c.iM)(((...e)=>n.search&&n.search(...e)),["prevent"]))},"Search")])],32)}var d={data(){return{searchInput:""}},methods:{search(){this.$emit("update:searchInput",this.searchInput),this.searchInput&&this.$emit("update:show",!1),this.searchInput=""}}},m=a(89);const w=(0,m.Z)(d,[["render",g]]);var _=w,k=a(5941),f=(0,s.aZ)({name:"ItemsView",components:{SearchBar:_},data:()=>({items:null,isItemsLoading:!1,pageNumber:1,totalPages:1,limit:10,page:1,data:null,searchQuery:"",dialogSearchVisible:!1}),created(){this.searchQuery="",this.getItems()},methods:{async getItems(){const e=await(0,u.r)(u.H[this.routeName],{searchFor:this.searchQuery,page:this.page});this.items=e.results,this.data=e,k.log(this.data),this.totalPages=Math.ceil(e.count/this.limit)},showSearch(){return this.dialogSearchVisible=!0},changePage(e){this.page=e}},computed:{routeName(){return this.$route.name},itemClass(){return this.routeName}},watch:{routeName(){this.getItems()},page(){this.getItems()},searchVisible(){},searchQuery(e){this.getItems(),k.log(e)}}});const I=(0,m.Z)(f,[["render",o],["__scopeId","data-v-46d4d9fd"]]);var b=I}}]);
//# sourceMappingURL=571.ec3e7cb6.js.map