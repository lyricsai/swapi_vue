{"version":3,"file":"js/988.e461020f.js","mappings":"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","sources":["webpack://swapi/./src/views/ItemsView.vue?6dae","webpack://swapi/./src/components/SearchBar.vue","webpack://swapi/./src/components/SearchBar.vue?fbac","webpack://swapi/./src/views/ItemsView.vue?51f7","webpack://swapi/./src/views/ItemsView.vue"],"sourcesContent":["import { resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, createTextVNode as _createTextVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, createBlock as _createBlock, withModifiers as _withModifiers, normalizeClass as _normalizeClass, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-ef74424e\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { key: 0 }\nconst _hoisted_2 = {\n  key: 1,\n  class: \"items__wrapper\"\n}\nconst _hoisted_3 = { class: \"items__info\" }\nconst _hoisted_4 = { key: 0 }\nconst _hoisted_5 = { class: \"item\" }\nconst _hoisted_6 = { class: \"page__wrapper\" }\nconst _hoisted_7 = [\"onClick\"]\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_search_bar = _resolveComponent(\"search-bar\")!\n  const _component_k_dialog = _resolveComponent(\"k-dialog\")!\n  const _component_k_button = _resolveComponent(\"k-button\")!\n  const _component_router_link = _resolveComponent(\"router-link\")!\n\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _createVNode(_component_k_dialog, {\n      show: _ctx.dialogSearchVisible,\n      \"onUpdate:show\": _cache[2] || (_cache[2] = ($event: any) => (_ctx.dialogSearchVisible = false))\n    }, {\n      default: _withCtx(() => [\n        _createVNode(_component_search_bar, {\n          ref: \"search__input\",\n          \"onUpdate:show\": _cache[0] || (_cache[0] = (bool) => (_ctx.dialogSearchVisible = bool)),\n          \"onUpdate:searchInput\": _cache[1] || (_cache[1] = (searchInput) => (_ctx.searchQuery = searchInput))\n        }, null, 512)\n      ]),\n      _: 1\n    }, 8, [\"show\"]),\n    _createVNode(_component_k_button, {\n      class: \"search__button\",\n      onClick: _ctx.showSearch\n    }, {\n      default: _withCtx(() => [\n        _createTextVNode(\"Search \")\n      ]),\n      _: 1\n    }, 8, [\"onClick\"]),\n    _createVNode(_component_k_button, {\n      class: \"search__button\",\n      onClick: _ctx.resetSearchQuery\n    }, {\n      default: _withCtx(() => [\n        _createTextVNode(\"Reset \")\n      ]),\n      _: 1\n    }, 8, [\"onClick\"]),\n    (_ctx.isLoading)\n      ? (_openBlock(), _createElementBlock(\"p\", _hoisted_1, \"Loading Data...\"))\n      : _createCommentVNode(\"\", true),\n    (_ctx.items)\n      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, [\n          _createElementVNode(\"div\", _hoisted_3, [\n            _createElementVNode(\"strong\", null, _toDisplayString(_ctx.itemClass), 1),\n            _createTextVNode(\" of the saga: \")\n          ]),\n          (!_ctx.items.length)\n            ? (_openBlock(), _createElementBlock(\"div\", _hoisted_4, \"No such data\"))\n            : _createCommentVNode(\"\", true),\n          _createElementVNode(\"ul\", null, [\n            (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.items, (item) => {\n              return (_openBlock(), _createBlock(_component_router_link, {\n                key: item,\n                to: {\n                        path: `${_ctx.itemClass}/${item.url.match(/\\d/g).join('')}`,\n                    }\n              }, {\n                default: _withCtx(() => [\n                  _createElementVNode(\"li\", _hoisted_5, [\n                    _createElementVNode(\"h2\", null, _toDisplayString(item.name ?? item.title), 1)\n                  ])\n                ]),\n                _: 2\n              }, 1032, [\"to\"]))\n            }), 128))\n          ]),\n          _createElementVNode(\"ul\", _hoisted_6, [\n            _createVNode(_component_k_button, {\n              disabled: _ctx.page === 1,\n              onClick: _cache[3] || (_cache[3] = _withModifiers(($event: any) => (_ctx.changePage(_ctx.page - 1)), [\"prevent\"]))\n            }, {\n              default: _withCtx(() => [\n                _createTextVNode(\"Back\")\n              ]),\n              _: 1\n            }, 8, [\"disabled\"]),\n            (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.totalPages, (pageNumber) => {\n              return (_openBlock(), _createElementBlock(\"li\", {\n                key: pageNumber,\n                class: _normalizeClass([\"page\", { currentPage: _ctx.page === pageNumber }]),\n                onClick: ($event: any) => (_ctx.changePage(pageNumber))\n              }, [\n                _createVNode(_component_router_link, {\n                  to: { name: _ctx.itemClass, query: { page: pageNumber } }\n                }, {\n                  default: _withCtx(() => [\n                    _createVNode(_component_k_button, null, {\n                      default: _withCtx(() => [\n                        _createTextVNode(_toDisplayString(pageNumber), 1)\n                      ]),\n                      _: 2\n                    }, 1024)\n                  ]),\n                  _: 2\n                }, 1032, [\"to\"])\n              ], 10, _hoisted_7))\n            }), 128)),\n            _createVNode(_component_k_button, {\n              disabled: _ctx.page === _ctx.totalPages,\n              onClick: _cache[4] || (_cache[4] = _withModifiers(($event: any) => (_ctx.changePage(_ctx.page + 1)), [\"prevent\"]))\n            }, {\n              default: _withCtx(() => [\n                _createTextVNode(\"Forward\")\n              ]),\n              _: 1\n            }, 8, [\"disabled\"])\n          ])\n        ]))\n      : _createCommentVNode(\"\", true)\n  ], 64))\n}","<template>\n    <form @submit.prevent class=\"search__bar\">\n        <label for=\"search__input\"\n            >Look for\n            <k-input\n                type=\"text\"\n                v-model.lazy=\"searchInput\"\n                id=\"search__input\"\n                placeholder=\"Type in..\"\n            />\n            <k-button @click.prevent=\"search\">Search</k-button>\n        </label>\n    </form>\n</template>\n<script>\nexport default {\n    data() {\n        return {\n            searchInput: \"\",\n        };\n    },\n    methods: {\n        search() {\n            this.$emit(\"update:searchInput\", this.searchInput);\n            if (this.searchInput) this.$emit(\"update:show\", false);\n            this.searchInput = \"\";\n        },\n    },\n};\n</script>\n<style scoped></style>\n","import { render } from \"./SearchBar.vue?vue&type=template&id=df16dc1c\"\nimport script from \"./SearchBar.vue?vue&type=script&lang=js\"\nexport * from \"./SearchBar.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/anastasiyalitvinenka/Documents/web/onGitHub/testIntervale-swapi/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","\nimport { defineComponent } from \"vue\";\nimport { fetchData, fetchingOptions } from \"@/services/api\";\nimport SearchBar from \"@/components/SearchBar.vue\";\n\nexport default defineComponent({\n    name: \"ItemsView\",\n    components: { SearchBar },\n    data: () => {\n        return {\n            items: null,\n            isLoading: false,\n            pageNumber: 1,\n            totalPages: 1,\n            limit: 10,\n            page: 1,\n            searchQuery: \"\",\n            dialogSearchVisible: false,\n        };\n    },\n\n    mounted() {\n        window.addEventListener(\"popstate\", this.checkState);\n        this.page = Number(this.$route.query?.page) || 1;\n        this.searchQuery = (this.$route.query?.search || \"\") as string;\n        this.getItems();\n    },\n\n    methods: {\n        async getItems() {\n            try {\n                this.isLoading = true;\n                this.items = null;\n\n                const query: { page?: number; search?: string } = {};\n                if (this.page !== 1) query.page = this.page;\n                if (this.searchQuery) query.search = this.searchQuery;\n\n                if (query.page || query.search) {\n                    this.$router.replace({\n                        name: this.itemClass,\n                        query: query,\n                    });\n                }\n\n                const data = await fetchData(\n                    fetchingOptions[this.routeName],\n                    query\n                );\n\n                this.items = data.results;\n\n                this.totalPages = Math.ceil(data.count / this.limit);\n            } catch (error) {\n                Promise.reject(error);\n            } finally {\n                this.isLoading = false;\n            }\n        },\n        showSearch() {\n            return (this.dialogSearchVisible = true);\n        },\n        resetSearchQuery() {\n            this.searchQuery = \"\";\n        },\n        changePage(pageNumber) {\n            if (pageNumber < 1 || pageNumber > this.totalPages) return;\n            if (this.page === pageNumber) return;\n            this.page = pageNumber;\n        },\n        checkState() {\n            this.page = Number(this.$route.query?.page) || 1;\n            this.searchQuery = (this.$route.query?.search || \"\") as string;\n        },\n    },\n\n    computed: {\n        routeName() {\n            return this.$route.name as string;\n        },\n        itemClass() {\n            return this.routeName;\n        },\n        routeQuery() {\n            return this.$route.query;\n        },\n    },\n\n    watch: {\n        routeName() {\n            this.isLoading = true;\n            document.title = this.itemClass;\n            this.searchQuery = \"\";\n        },\n        searchQuery() {\n            if (this.page === 1) this.getItems();\n            this.changePage(1);\n        },\n        page() {\n            this.getItems();\n        },\n    },\n\n    beforeUnmount() {\n        window.removeEventListener(\"popstate\", this.checkState);\n    },\n});\n","import { render } from \"./ItemsView.vue?vue&type=template&id=ef74424e&scoped=true&ts=true\"\nimport script from \"./ItemsView.vue?vue&type=script&lang=ts\"\nexport * from \"./ItemsView.vue?vue&type=script&lang=ts\"\n\nimport \"./ItemsView.vue?vue&type=style&index=0&id=ef74424e&lang=scss&scoped=true\"\n\nimport exportComponent from \"/Users/anastasiyalitvinenka/Documents/web/onGitHub/testIntervale-swapi/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-ef74424e\"]])\n\nexport default __exports__"],"names":["_hoisted_1","key","_hoisted_2","class","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","render","_ctx","_cache","$props","$setup","$data","$options","_component_search_bar","_resolveComponent","_component_k_dialog","_component_k_button","_component_router_link","_openBlock","_createElementBlock","_Fragment","_createVNode","show","dialogSearchVisible","$event","default","_withCtx","ref","bool","searchInput","searchQuery","_","onClick","showSearch","_createTextVNode","resetSearchQuery","isLoading","_createCommentVNode","items","_createElementVNode","_toDisplayString","itemClass","length","_renderList","item","_createBlock","to","path","url","match","join","name","title","disabled","page","_withModifiers","changePage","totalPages","pageNumber","_normalizeClass","currentPage","query","for","onSubmit","_component_k_input","type","lazy","id","placeholder","data","methods","search","this","$emit","__exports__","defineComponent","components","SearchBar","limit","mounted","window","addEventListener","checkState","Number","$route","getItems","async","$router","replace","fetchData","fetchingOptions","routeName","results","Math","ceil","count","error","Promise","reject","computed","routeQuery","watch","document","beforeUnmount","removeEventListener"],"sourceRoot":""}